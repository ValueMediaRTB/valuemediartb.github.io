<!DOCTYPE html>
<html>
<head>
  <title>ValueMedia - Daisycon</title>
  
</head>
<body>
    <form id="daisyconAccessForm">
        <div style="display: grid; grid-template-columns: auto 1fr; align-items: center; margin:8px; gap: 8px">
            <label style="grid-row: 1;" for="tokenProcessed">Token</label>
            <input style="width:100%; grid-row: 1;" id="tokenProcessed" type="text" required>
            <label style="grid-row: 2;" for="codeVerificationInput">Code verification</label>
            <input style="width:100%;grid-row: 2;" id="codeVerificationInput" type="text" required>
        </div>
        <button style="margin:8px" type="button" id="accessDaisyconBtn" onclick="accessDaisycon()">Access Daisycon API</button>
        <div id="apiButtonsContainer" style="display:none;">
            <button style="margin:8px" type="button" id="exportOffersBtn" onclick="exportOffers()">Export Offers</button>
            <button style="margin:8px" type="button" id="getCampaignMaterialBtn" onclick="getPrograms()">Get Programs</button>
            <button style="margin:8px" type="button" id="getMaterialDeeplinksBtn" onclick="getMaterialDeeplinks()">Get Ads With Deeplinks</button>
            <button style="margin:8px" type="button" id="getProductsBtn" onclick="getProducts()">Get Products</button>
            <button style="margin:8px" type="button" id="refreshAccessTokenBtn" onclick="refreshAccessDaisycon()">Refresh Token</button>
        </div>
    </form>
    <div id="configPanel" style="display: grid; grid-template-columns: max-content auto max-content auto; align-items: center; margin:8px; gap: 8px;justify-items:start;">
        <label style="grid-row: 1;" for="pageInput">Page number</label>
        <input style="grid-row: 1; width:150px; " id="pageInput" type="text" required>
        <label style="grid-row: 1;" for="pageSizeInput">Page size</label>
        <input style="grid-row: 1; width:150px;" id="pageSizeInput" type="text" required>
        <label style="grid-row: 2;" for="mediaIDInput">Media ID</label>
        <select style="grid-row: 2; width:250px;" id="mediaIDInput" type="text" required>
            
        </select>
    </div>
    <div id="manualReqPanel">
        <div style="display: grid; grid-template-columns: auto 1fr; align-items: center; margin:8px; gap: 8px">
            <label style="grid-row: 1;" for="manualReqUrl">URL</label>
            <input style="width:100%; grid-row: 1;" id="manualReqUrl" type="text" required value="https://services.daisycon.com">
            <label style="grid-row: 2;" for="manualReqBody">Body (json)</label>
            <input style="width:100%;grid-row: 2;" id="manualReqBody" type="text" required value="{}">
            <label style="grid-row: 2;" for="manualReqHeaders">Headers (json)</label>
            <input style="width:100%;grid-row: 2;" id="manualReqHeaders" type="text" required value="{'Content-Type':'application/json'}">
            <label style="grid-row: 2;" for="manualReqType">Type</label>
            <select style="grid-row: 2; width:250px;" id="manualReqType" type="text" required>
                <option value="get" selected>GET</option>
                <option value="post">POST</option>
            </select>
            <button style="margin:8px" type="button" id="manualReqBtn" onclick="sendManualRequest()">Send manual request</button>
        </div>
    </div>
    <div style="margin:8px" id="accessResult"></div>
    <div style="margin:8px;overflow-wrap: break-word; word-break: break-all;" id="accessToken"></div>
    <div style="margin:8px;overflow-wrap: break-word; word-break: break-all;" id="refreshToken"></div>
    <div style="margin:8px;overflow-wrap: break-word; word-break: break-all;" id="resultTitle"></div>
    <div style="margin:8px;overflow-wrap: break-word; word-break: break-all;" id="resultContainer"></div>
    <script src="./scripts.js" defer></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
                daisyconAuthLoaded();
            });
      </script>
</body>
</html>